<head>
  <script language="javascript" type="text/javascript">
    function CheckMaxlength(x)
    {
          var max = parseInt(x.getAttribute('maxlength'));
          var cur = x.value.length;

          if ( x.getAttribute && cur > max )
          {
              x.value = x.value.substring(0, max);
          }
    } 
</script>
</head>
<body>
<h1> Create a Deck</h1>

<%= simple_form_for @deck, :url => { :action => "create" } do |f| %>

  <table>
    <tr>
      <td style= "vertical-align:top;">
        <div>
        <p> Fields marked with * are required </p>
        <div  class = "search">
          <div class = "hover">
            <p>* Title</p> 
            <%= f.text_field :deck_title, :onkeyup => "CheckMaxlength(this);", :maxlength => 50, :default => @deck.deck_title%>
            <div class = "tooltip" style = "top:65px;">
              50 character limit
            </div>
          </div>
        </div>

        <div  class = "search">
          <div class = "hover">
          <p>* Subject</p>
          <%= f.autocomplete_field :subject_name, autocomplete_subject_name_search_path, :default => @deck.subject_name, :onkeyup => "CheckMaxlength(this);", :maxlength => 40  %>
          <div class = "tooltip" style = "top:65px;">
              40 character limit
            </div>
          </div>
        </div>

        <div  class = "search">
          <p> School Name </p>
          <%= f.autocomplete_field :school_name, autocomplete_school_name_search_path, :value => @user.school_name  %>
        </div>
        
        <div  class = "search">
          <div class = "hover">
          <p>Course Number</p>
          <%= f.text_field :course_num, :onkeyup => "CheckMaxlength(this);", :default => @deck.course_num, :maxlength => 5  %>
          <div class = "tooltip" style = "top:65px;">
              5 character limit
            </div>
          </div>
        </div>

        <div  class = "search">
          <div class = "hover">
            <p>Course Name</p>
            <%= f.autocomplete_field :course_name, autocomplete_course_name_search_path, :default => @deck.course_name, :onkeyup => "CheckMaxlength(this);", :maxlength => 70 %>
            <div class = "tooltip" style = "top:65px;">
              70 character limit
            </div>
          </div>
        </div>

        <div  class = "search">
          <p>Instructor (Last name, first name) </p>
          <%= f.text_field :prof_name, :default => @deck.prof_name %>
        </div>
       
        <p style= "font-size:10px;">Note: If either school, subject, and/or course name not found, a new entry will be created </p>

       <%= f.submit "Create Deck", class: "btn btn-medium btn-success" %>
       </div>

      </td>
      <td style = "padding-left:2em; vertical-align:top;">
      <%= f.label "Background image" %>
      <table>
        <tr>
          <td>
            
            <label for="deck_background_1">
            <%= image_tag('/assets/card1-6eb99ac61b498dd5de8d6a2ac9e359cc.jpg')  %>
            <%= f.radio_button :background, 1, :default => @deck.background  %>
            </label>
          </td>
          <td>
            <label for="deck_background_2">
            <%= image_tag('/assets/card2-44898f1306913eed194696f4ba5d825d.png')  %>
            <%= f.radio_button :background, 2 %>
            </label>
          </td>
          <td>
            <label for="deck_background_3">
            <%= image_tag('/assets/card3-91370e66d7bf6782e80bbfc0bcb6b185.png')  %>
            <%= f.radio_button :background, 3  %>
            </label>
          </td>
        </tr>
        <tr>
          <td>
            <label for="deck_background_4">
            <%= image_tag('/assets/card4-05a6a951b1d7dfa800801585a159e7d8.png')  %>
            <%= f.radio_button :background, 4  %>
            </label>
          </td>
          <td>
            <label for="deck_background_5">
            <%= image_tag('/assets/card5-aa8c004f6d145eb03020ae296543917d.png')  %>
            <%= f.radio_button :background, 5 %>
            </label>
          </td>
        </tr>
      </table>
      </td>
    </tr>
  </table>

<% end %>


</body>